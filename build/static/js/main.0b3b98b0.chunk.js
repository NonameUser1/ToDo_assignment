(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{131:function(e,t,a){},132:function(e,t,a){},133:function(e,t,a){},134:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(67),i=a.n(r),c=a(140),o=a(4),u=a(5),l=a(8),h=a(6),d=a(7),p=a(143),m=a(141),b=a(142),f=a(36),k=a(3),O=a(139),j=(s.a.createContext(null),a(54)),v=a.n(j);a(120),a(125);v.a.initializeApp({apiKey:"AIzaSyAJfUymq_ZBOXeNaItfeon8jN8bs_eoa6Y",authDomain:"stafftodo-4ef6c.firebaseapp.com",databaseURL:"https://stafftodo-4ef6c.firebaseio.com",projectId:"stafftodo-4ef6c",storageBucket:"stafftodo-4ef6c.appspot.com",messagingSenderId:"61743514430"});var g=v.a,y=(a(66),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={email:"",password:""},a.handleInputChange=a.handleInputChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(f.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),g.auth().signInWithEmailAndPassword(this.state.email,this.state.password).catch(function(e){alert(e.code),alert(e.message)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"authForm"},s.a.createElement("form",{className:"authForm__form",onSubmit:this.handleSubmit},s.a.createElement("h5",{className:"authForm__title"},"Log In"),s.a.createElement("input",{type:"email",id:"email",placeholder:"Email",className:"authForm__input",onChange:this.handleInputChange}),s.a.createElement("input",{type:"password",id:"password",placeholder:"Password",className:"authForm__input",onChange:this.handleInputChange}),s.a.createElement("input",{className:"authForm__input--submit-btn",type:"submit",value:"Log in"}),s.a.createElement(O.a,{className:"authForm__link",to:"/signUp"},"Dont have an account yet?")))}}]),t}(n.Component)),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={username:"",email:"",password:""},a.handleInputChange=a.handleInputChange.bind(Object(k.a)(Object(k.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(k.a)(Object(k.a)(a))),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(f.a)({},e.target.id,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),g.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then(function(){g.firestore().collection("users").add({email:t.state.email,password:t.state.password,username:t.state.username})}).catch(function(e){alert("".concat(e.message,"  ").concat(e.code))})}},{key:"render",value:function(){return s.a.createElement("div",{className:"authForm"},s.a.createElement("form",{className:"authForm__form",onSubmit:this.handleSubmit},s.a.createElement("h5",{className:"authForm__title"},"Sign Up"),s.a.createElement("input",{type:"text",id:"username",placeholder:"Nickname",className:"authForm__input",value:this.state.username,onChange:this.handleInputChange}),s.a.createElement("input",{type:"email",id:"email",placeholder:"Email",className:"authForm__input",value:this.state.email,onChange:this.handleInputChange}),s.a.createElement("input",{type:"password",id:"password",placeholder:"Password",className:"authForm__input",value:this.state.password,onChange:this.handleInputChange}),s.a.createElement("input",{type:"submit",className:"authForm__input--submit-btn",value:"Sign up"}),s.a.createElement(O.a,{className:"authForm__link",to:"/logIn"},"Already have an account?")))}}]),t}(n.Component),_=a(13),I=a.n(_),w=a(16),C=(a(131),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleCheckbox=a.handleCheckbox.bind(Object(k.a)(Object(k.a)(a))),a.handleDelete=a.handleDelete.bind(Object(k.a)(Object(k.a)(a))),a.state={status:a.props.status,isChecked:"done"===a.props.status},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleCheckbox",value:function(){var e=this,t="done"===this.state.status?"undone":"done";g.firestore().collection("user_tasks").doc(this.props.docId).update({status:t}).then(function(){e.setState({status:"done"===e.state.status?"undone":"done",isChecked:!e.state.isChecked})})}},{key:"handleDelete",value:function(){var e=Object(w.a)(I.a.mark(function e(){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.firestore().collection("user_tasks").doc(this.props.docId).delete().then(this.props.updateList);case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"taskItem"},s.a.createElement("div",{onClick:this.handleCheckbox,className:this.state.isChecked?"checkbox--checked":"checkbox"}),s.a.createElement("p",{className:this.state.isChecked?"taskItem__task--done":"taskItem__task",ref:"task"},this.props.task),s.a.createElement("button",{className:"taskItem__btn",onClick:this.handleDelete},s.a.createElement("i",{className:"fa fa-trash"})))}}]),t}(n.Component)),N=(a(132),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={taskInfo:[],loaded:!1},a.getTasks=a.getTasks.bind(Object(k.a)(Object(k.a)(a))),a.listUpdate=a.listUpdate.bind(Object(k.a)(Object(k.a)(a))),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillMount",value:function(){this.getTasks(this.props.userId)}},{key:"getTasks",value:function(){var e=Object(w.a)(I.a.mark(function e(t){var a,n=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=[],g.firestore().collection("user_tasks").where("creator","==",t).get().then(function(e){e.docs.forEach(function(e){a.push({task:e.data().task,status:e.data().status,docId:e.id})}),n.setState({loaded:!0,taskInfo:a})});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"listUpdate",value:function(){this.getTasks(this.props.userId)}},{key:"render",value:function(){var e=this;return this.state.loaded?s.a.createElement("div",{className:"taskList"},this.state.taskInfo.map(function(t){return s.a.createElement(C,{task:t.task,status:t.status,key:t.docId,docId:t.docId,updateList:e.listUpdate})})):s.a.createElement("span",null,"Loading ... ")}},{key:"componentDidUpdate",value:function(){this.props.shouldListUpdate&&(this.getTasks(this.props.userId),this.props.listResponse())}}]),t}(n.Component)),S=(a(133),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).logOutHandle=a.logOutHandle.bind(Object(k.a)(Object(k.a)(a))),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"logOutHandle",value:function(){g.auth().signOut().catch(function(e){alert("".concat(e.code,"   ").concat(e.message))})}},{key:"render",value:function(){return s.a.createElement("div",{className:"header"},s.a.createElement("h1",{className:"header__title"},"Hi, ",this.props.username),s.a.createElement("button",{className:"header__logOut",onClick:this.logOutHandle},"Log out"))}}]),t}(n.Component)),A=(a(134),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).handleSave=a.handleSave.bind(Object(k.a)(Object(k.a)(a))),a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"handleSave",value:function(){var e=Object(w.a)(I.a.mark(function e(){var t,a=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=this.refs.newTaskInput.value).replace(/\s/g,"")){e.next=4;break}return this.refs.newTaskInput.value="Hey! Type something",e.abrupt("return",null);case 4:return e.next=6,g.firestore().collection("user_tasks").add({creator:this.props.userId,status:"undone",task:t}).then(function(){a.props.updateList()});case 6:this.refs.newTaskInput.value="";case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return s.a.createElement("div",{className:"newTask"},s.a.createElement("h1",{className:"newTask__title"},"New task?"),s.a.createElement("input",{className:"newTask__input",type:"text",ref:"newTaskInput",placeholder:"Type your task"}),s.a.createElement("button",{className:"newTask__btn",onClick:this.handleSave},"Save"))}}]),t}(n.Component)),T=(a(135),a(136),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).giveUsername=a.giveUsername.bind(Object(k.a)(Object(k.a)(a))),a.rerenderList=a.rerenderList.bind(Object(k.a)(Object(k.a)(a))),a.listRerendered=a.listRerendered.bind(Object(k.a)(Object(k.a)(a))),a.state={userId:null,username:null,loaded:!1,rerenderTest:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"rerenderList",value:function(){this.setState({rerenderTest:!0})}},{key:"listRerendered",value:function(){this.setState({rerenderTest:!1})}},{key:"componentWillMount",value:function(){var e=g.auth().currentUser.email;this.giveUsername(e)}},{key:"giveUsername",value:function(){var e=Object(w.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.firestore().collection("users").where("email","==",t).get().then(function(e){e.docs.forEach(function(e){a=e.data().username})}).catch(function(e){return alert(e)});case 2:this.setState({userId:t,username:a,loaded:!0});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loaded?s.a.createElement("div",{className:"App"},s.a.createElement(S,{username:this.state.username}),s.a.createElement(A,{userId:this.state.userId,updateList:this.rerenderList}),s.a.createElement(N,{userId:this.state.userId,shouldListUpdate:this.state.rerenderTest,listResponse:this.listRerendered})):s.a.createElement("span",null,"Loading ... ")}}]),t}(n.Component)),U=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return s.a.createElement(p.a,null,s.a.createElement(L,{isAuthorized:this.props.isAuthorized,path:"/home",component:T}),s.a.createElement(F,{isAuthorized:this.props.isAuthorized,path:"/logIn",component:y}),s.a.createElement(F,{isAuthorized:this.props.isAuthorized,path:"/signUp",component:E}),s.a.createElement(x,{isAuthorized:this.props.isAuthorized}))}}]),t}(n.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.isAuthorized?s.a.createElement(m.a,{to:"/home"}):s.a.createElement(m.a,{to:"/signUp"})}}]),t}(U),L=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return this.props.isAuthorized?s.a.createElement(b.a,{path:"/home",component:T,test:"hello there"}):s.a.createElement(m.a,{to:"/signUp"})}}]),t}(U),F=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.path,t=this.props.component;return this.props.isAuthorized?s.a.createElement(m.a,{to:"/home"}):s.a.createElement(b.a,{path:e,component:t})}}]),t}(U),z=U;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));g.auth().onAuthStateChanged(function(e){var t=!!e;i.a.render(s.a.createElement(c.a,null,s.a.createElement(z,{isAuthorized:t})),document.getElementById("root"))}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},66:function(e,t,a){},68:function(e,t,a){e.exports=a(138)}},[[68,1,2]]]);
//# sourceMappingURL=main.0b3b98b0.chunk.js.map